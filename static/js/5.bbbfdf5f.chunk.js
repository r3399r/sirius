(this.webpackJsonpsirius=this.webpackJsonpsirius||[]).push([[5],{106:function(e,n,t){"use strict";t.r(n);var r=t(56),i=t(0),c=t(97),o=t(21),l=t(6),a=["1","2","3","4","5","6","7","8","9","10","11","12"],d=function(e){var n=e.onClick;Object(o.c)((function(e){return e}));return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{children:"\u7b2c\u4e00\u5929\u767d\u5929"}),Object(l.jsx)("div",{children:a.map((function(e,n){return Object(l.jsx)("div",{children:e},n)}))}),Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{onClick:n,children:"Submit"})})]})},u=t(54),s=t(64),b=t(44),f=t.n(b),j=t(74),m=t.n(j),h=t(22),O=t(23),v=t(83),_=t.n(v),N=function(e){var n,t,a=e.onClick,d=Object(o.c)((function(e){return e})),b=Object(i.useState)(0),j=Object(r.a)(b,2),v=j[0],N=j[1],C=Object(i.useState)([]),x=Object(r.a)(C,2),g=x[0],k=x[1],p=Object(i.useState)(-1),y=Object(r.a)(p,2),w=y[0],S=y[1],F=Object(i.useState)(!1),M=Object(r.a)(F,2),I=M[0],R=M[1],A=Object(i.useState)(-1),B=Object(r.a)(A,2),H=B[0],P=B[1],T=Object(i.useState)(-1),q=Object(r.a)(T,2),L=q[0],Z=q[1],E=Object(i.useState)(-1),Q=Object(r.a)(E,2),K=Q[0],W=Q[1],Y=Object(i.useState)(-1),D=Object(r.a)(Y,2),J=D[0],U=D[1],z=Object(i.useState)(-1),G=Object(r.a)(z,2),V=G[0],X=G[1],$=Object(i.useState)(-1),ee=Object(r.a)($,2),ne=ee[0],te=ee[1],re=Object(i.useState)([]),ie=Object(r.a)(re,2),ce=ie[0],oe=ie[1];Object(i.useEffect)((function(){k((d.record.type,[{roleName:"\u72fc",roleCode:"wolf",nightAction:"\u72fc\u5200",nightNull:"\u7a7a\u5200"},{roleName:"\u5973\u5deb",roleCode:"witch",nightAction:"\u5973\u5deb",nightNull:"\u7121\u884c\u52d5"},{roleName:"\u9810\u8a00\u5bb6",roleCode:"seer",nightAction:"\u9810\u8a00\u5bb6\u67e5\u9a57",nightNull:"\u7121\u67e5\u9a57"},{roleName:"\u5b88\u885b",roleCode:"guard",nightAction:"\u5b88\u885b\u5b88\u8b77",nightNull:"\u7a7a\u5b88"},{roleName:"\u7375\u4eba",roleCode:"hunter",nightAction:"\u7375\u4eba\u958b\u69cd",nightNull:"\u58d3\u69cd"},{roleName:"\u72fc\u738b",roleCode:"wolf-king",nightAction:"\u72fc\u738b\u958b\u69cd",nightNull:"\u58d3\u69cd"},{roleName:"\u5e73\u6c11",roleCode:"villager",nightAction:null,nightNull:null}]))}),[d]);var le=function(e){return function(){te(Number(e)),"wolf"===g[v].roleCode&&S(Number(e)),"witch"===g[v].roleCode&&P(13===H?Number(e):0),"seer"===g[v].roleCode&&Z(Number(e)),"guard"===g[v].roleCode&&W(Number(e)),"hunter"===g[v].roleCode&&U(Number(e)),"wolf-king"===g[v].roleCode&&X(Number(e))}},ae=function(e){var n,t=m.a.cloneDeep(d.record.player),r=Object(s.a)(e);try{var i=function(){var e=n.value,r=t.findIndex((function(n){return n.id===String(e)}));t[r].alive=!1};for(r.s();!(n=r.n()).done;)i()}catch(c){r.e(c)}finally{r.f()}return Object(O.b)(Object(h.c)(t)),t},de=function(e){var n,t,r=-1;r=!0===(null===(n=e.find((function(e){return"hunter"===e.role})))||void 0===n?void 0:n.alive)?13:J;var i=-1;i=!0===(null===(t=e.find((function(e){return"wolf-king"===e.role})))||void 0===t?void 0:t.alive)?13:V;var c={id:String(d.record.night.length+1),kill:w,rescue:I,poison:H,check:L,guard:K,hunterShoot:r,wolfKingShoot:i};Object(O.b)(Object(h.b)(c))},ue=function(e){var n;if(ce.includes(Number(e)))return!0;if(Number(e)>0&&!0!==(null===(n=m()(d.record.player).find((function(n){return n.id===e})))||void 0===n?void 0:n.alive))return!0;if("wolf"===g[v].roleCode)return function(e,n){return n>=0&&Number(e)!==n}(e,w);if("witch"===g[v].roleCode)return function(e,n,t,r,i){var c;return"witch"===(null===(c=i.find((function(n){return n.id===e})))||void 0===c?void 0:c.role)||(0===Number(e)?!(!1===n&&t<=0):!0===n?Number(e)!==r:13!==t&&(!(t>0)||Number(e)!==t))}(e,I,H,w,d.record.player);if("seer"===g[v].roleCode)return function(e,n,t){var r;return"seer"===(null===(r=t.find((function(n){return n.id===e})))||void 0===r?void 0:r.role)||n>=0&&Number(e)!==n}(e,L,d.record.player);if("guard"===g[v].roleCode)return function(e,n){return n>=0&&Number(e)!==n}(e,K);if("hunter"===g[v].roleCode)return function(e,n,t){var r;return"hunter"===(null===(r=t.find((function(n){return n.id===e})))||void 0===r?void 0:r.role)||n>=0&&Number(e)!==n}(e,J,d.record.player);if("wolf-king"===g[v].roleCode)return function(e,n,t){var r;return"wolf-king"===(null===(r=t.find((function(n){return n.id===e})))||void 0===r?void 0:r.role)||n>=0&&Number(e)!==n}(e,V,d.record.player);throw new Error("OverStep")},se=w===Number(null===(n=m()(d.record.player).find((function(e){return"witch"===e.role})))||void 0===n?void 0:n.id)||H>=0||w<=0,be=!0===I||0===H,fe=!(ne>=0&&ne<=12);return 0===g.length?Object(l.jsx)("div",{children:"loading..."}):Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:_.a.title,children:["\u7b2c ",d.record.night.length+1," \u591c"]}),Object(l.jsxs)("div",{className:_.a.mainFrame,children:[Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:_.a.header,children:g[v].nightAction}),"witch"===g[v].roleCode&&Object(l.jsxs)("div",{className:_.a.functionFrame,children:[Object(l.jsx)(c.a,{className:f()(_.a.function,Object(u.a)({},_.a.functionClick,!0===I)),type:"text",onClick:function(){R(!0),te(13)},disabled:se,children:"\u89e3\u6551"}),Object(l.jsx)(c.a,{className:f()(_.a.function,Object(u.a)({},_.a.functionClick,H>0)),type:"text",onClick:function(){P(13),te(13)},disabled:be,children:"\u6492\u6bd2"})]})]}),Object(l.jsxs)("div",{className:_.a.numFrame,children:[null===(t=d.record.player)||void 0===t?void 0:t.map((function(e){var n;return Object(l.jsxs)(c.a,{className:f()(_.a.num,Object(u.a)({},_.a.numClick,ne===Number(e.id))),type:"text",onClick:le(e.id),disabled:ue(e.id),children:[e.id," ",null===(n=g.find((function(n){return n.roleCode===e.role})))||void 0===n?void 0:n.roleName,Object(l.jsx)("br",{}),e.name.slice(0,7)]},e.id)})),Object(l.jsx)(c.a,{className:f()(_.a.null,Object(u.a)({},_.a.nullClick,0===ne)),type:"text",onClick:le("0"),disabled:ue("0"),children:g[v].nightNull})]})]}),Object(l.jsxs)("div",{className:_.a.btnFrame,children:[Object(l.jsx)(c.a,{type:"text",className:_.a.backbtn,onClick:function(){var e,n;-1===ne?("wolf"!==g[v].roleCode&&"hunter"!==g[v].roleCode&&"wolf-king"!==g[v].roleCode&&N(v-1),"wolf"===g[v-1].roleCode&&S(-1),"witch"===g[v-1].roleCode&&(R(!1),P(-1)),"seer"===g[v-1].roleCode&&Z(-1),"hunter"===g[v].roleCode&&(ce.includes(Number(null===(e=m()(d.record.player).find((function(e){return"wolf-king"===e.role})))||void 0===e?void 0:e.id))?(X(-1),oe(ce.slice(0,-1)),N(g.findIndex((function(e){return"wolf-king"===e.roleCode})))):(W(-1),oe([]),N(g.findIndex((function(e){return"guard"===e.roleCode}))))),"wolf-king"===g[v].roleCode&&(ce.includes(Number(null===(n=m()(d.record.player).find((function(e){return"hunter"===e.role})))||void 0===n?void 0:n.id))?(U(-1),oe(ce.slice(0,-1)),N(g.findIndex((function(e){return"hunter"===e.roleCode})))):(W(-1),oe([]),N(g.findIndex((function(e){return"guard"===e.roleCode})))))):"wolf"===g[v].roleCode&&S(-1);"witch"===g[v].roleCode&&(R(!1),P(-1)),"seer"===g[v].roleCode&&Z(-1),"guard"===g[v].roleCode&&W(-1),"hunter"===g[v].roleCode&&U(-1),"wolf-king"===g[v].roleCode&&X(-1),te(-1)},children:"Back"}),Object(l.jsx)(c.a,{type:"text",className:_.a.btn,onClick:function(){var e,n,t,r;te(-1);var i=-1;if("guard"===g[v].roleCode){var c,o,l=[];if(H>0&&(l=l.concat(H)),w>0&&w!==H&&(!0===I&&w===K&&(i=w,l=l.concat(w)),!1===I&&w!==K&&(i=w,l=l.concat(w))),oe(l),Number(null===(c=m()(d.record.player).find((function(e){return"hunter"===e.role})))||void 0===c?void 0:c.id)===i)return N(g.findIndex((function(e){return"hunter"===e.roleCode})));if(Number(null===(o=m()(d.record.player).find((function(e){return"wolf-king"===e.role})))||void 0===o?void 0:o.id)===i)return N(g.findIndex((function(e){return"wolf-king"===e.roleCode})));var u=ae(l);de(u),a()}else if("hunter"===g[v].roleCode){if(Number(null===(e=m()(d.record.player).find((function(e){return"wolf-king"===e.role})))||void 0===e?void 0:e.id)!==i&&Number(null===(n=m()(d.record.player).find((function(e){return"wolf-king"===e.role})))||void 0===n?void 0:n.id)===J)return oe(ce.concat(J)),N(g.findIndex((function(e){return"wolf-king"===e.roleCode})));var s=ae(ce.concat(J));de(s),oe(ce.concat(J)),a()}else{if("wolf-king"!==g[v].roleCode)return N(v+1);if(Number(null===(t=m()(d.record.player).find((function(e){return"hunter"===e.role})))||void 0===t?void 0:t.id)!==i&&Number(null===(r=m()(d.record.player).find((function(e){return"hunter"===e.role})))||void 0===r?void 0:r.id)===V)return oe(ce.concat(V)),N(g.findIndex((function(e){return"hunter"===e.roleCode})));var b=ae(ce.concat(V));de(b),oe(ce.concat(V)),a()}},disabled:fe,children:"Submit"})]})]})},C=t(84),x=t(104),g=t(98),k=t(87),p=t.n(k),y=["\u73a9\u5bb6 1","\u73a9\u5bb6 2","\u73a9\u5bb6 3","\u73a9\u5bb6 4","\u73a9\u5bb6 5","\u73a9\u5bb6 6","\u73a9\u5bb6 7","\u73a9\u5bb6 8","\u73a9\u5bb6 9","\u73a9\u5bb6 10","\u73a9\u5bb6 11","\u73a9\u5bb6 12"],w=function(e){var n=e.onClick,t=Object(g.a)(),r=t.register,i=t.handleSubmit,a=Object(o.b)();return Object(l.jsxs)("form",{onSubmit:i((function(e){var t=Object.keys(e).map((function(n){return{id:n,name:e[n]}}));a(Object(h.c)(t)),n()})),children:[Object(l.jsx)("div",{className:p.a.title,children:"\u73a9\u5bb6\u540d\u7a31"}),Object(l.jsx)("div",{className:p.a.parent,children:y.map((function(e,n){return Object(l.jsxs)("div",{className:p.a.child,children:[Object(l.jsx)("div",{className:p.a.text,children:e}),Object(l.jsx)(x.a,Object(C.a)(Object(C.a)({},r("".concat(n+1),{required:!0})),{},{autoComplete:"off"}))]},n)}))}),Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{type:"text",htmlType:"submit",className:p.a.btn,children:"Submit"})})]})},S=t(93),F=t.n(S),M=function(e){var n,t=e.onClick,a=Object(o.c)((function(e){return e})),d=Object(i.useState)([]),b=Object(r.a)(d,2),j=b[0],v=b[1],_=Object(i.useState)(0),N=Object(r.a)(_,2),C=N[0],x=N[1],g=Object(i.useState)([]),k=Object(r.a)(g,2),p=k[0],y=k[1],w=Object(i.useState)([]),S=Object(r.a)(w,2),M=S[0],I=S[1];Object(i.useEffect)((function(){y((a.record.type,[{roleName:"\u5973\u5deb",roleCode:"witch",howMany:1},{roleName:"\u9810\u8a00\u5bb6",roleCode:"seer",howMany:1},{roleName:"\u5b88\u885b",roleCode:"guard",howMany:1},{roleName:"\u7375\u4eba",roleCode:"hunter",howMany:1},{roleName:"\u72fc\u738b",roleCode:"wolf-king",howMany:1},{roleName:"\u72fc",roleCode:"wolf",howMany:3},{roleName:"\u5e73\u6c11",roleCode:"villager",howMany:4}]))}),[a]);var R=function(e){if(!j.includes(e))return"";for(var n=j.indexOf(e)+1,t=0;n>0;){if((n-=p[t].howMany)<=0)return p[t].roleName;t+=1}};return 0===p.length?Object(l.jsx)("div",{children:"loading..."}):Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:F.a.title,children:"\u8eab\u4efd\u767c\u653e"}),Object(l.jsxs)("div",{className:F.a.mainFrame,children:[Object(l.jsx)("div",{className:F.a.header,children:p[C].roleName}),Object(l.jsx)("div",{className:F.a.numFrame,children:null===(n=a.record.player)||void 0===n?void 0:n.map((function(e){return Object(l.jsxs)(c.a,{className:f()(F.a.num,Object(u.a)({},F.a.clicked,j.includes(Number(e.id))||M.includes(Number(e.id)))),type:"text",onClick:(t=e.id,function(){j.includes(Number(t))?alert("\u73a9\u5bb6\u89d2\u8272\u91cd\u8907"):M.includes(Number(t))||I(M.concat(Number(t)))}),disabled:(n=Number(e.id),!M.includes(n)&&p[C].howMany===M.length),children:[e.id," ",R(Number(e.id)),Object(l.jsx)("br",{}),e.name.slice(0,5)]},e.id);var n,t}))})]}),Object(l.jsxs)("div",{className:F.a.btnFrame,children:[Object(l.jsx)(c.a,{type:"text",className:F.a.backbtn,onClick:function(){0===M.length&&0!==C&&(v(j.slice(0,j.length-p[C-1].howMany)),x(C-1)),I([])},children:"Back"}),Object(l.jsx)(c.a,{type:"text",className:F.a.btn,disabled:p[C].howMany!==M.length,onClick:function(){var e=j.concat(M);if(v(e),6===C){var n,r=[],i=0,c=0,o=Object(s.a)(e);try{var l=function(){var e=n.value,t=String(e),o=m()(a.record.player).find((function(e){return e.id===t})).name,l=p[i].roleCode,d={id:t,name:o,role:l,alive:!0};r=r.concat(d),(c+=1)===p[i].howMany&&(i+=1,c=0)};for(o.s();!(n=o.n()).done;)l()}catch(d){o.e(d)}finally{o.f()}Object(O.b)(Object(h.c)(r)),t()}else x(C+1);I([])},children:"Submit"})]})]})},I=t(94),R=t.n(I),A=["\u72fc\u738b\u5b88\u885b","\u5b88\u5893\u4eba\u77f3\u50cf\u9b3c","\u72fc\u7f8e\u4eba\u9a0e\u58eb","\u6a5f\u68b0\u72fc","\u72fc\u738b\u9b54\u8853\u5e2b","\u9810\u5973\u7375\u767d","\u5669\u5922\u4e4b\u5f71"],B=function(e){var n=e.onClick,t=Object(o.b)(),a=Object(i.useState)(-1),d=Object(r.a)(a,2),s=d[0],b=d[1],j=function(e){return function(){b(e)}};return Object(l.jsxs)("div",{children:[Object(l.jsx)("div",{className:R.a.title,children:"\u9078\u64c7\u7248\u578b"}),Object(l.jsx)("div",{className:R.a.panel,children:A.map((function(e,n){return Object(l.jsx)("div",{className:f()(R.a.type,Object(u.a)({},R.a.clicked,n===s)),role:"button",onClick:j(n),children:e},n)}))}),Object(l.jsx)("div",{children:Object(l.jsx)(c.a,{type:"text",className:R.a.btn,onClick:function(){t(Object(h.d)(A[s])),n()},disabled:s<0,children:"Submit"})})]})},H=t(95),P=t.n(H),T=["type","player","role","night","daytime","blank"];n.default=function(){var e=Object(i.useState)(T[0]),n=Object(r.a)(e,2),t=n[0],c=n[1],o=function(e){return function(){c(T[e])}};return Object(l.jsxs)("div",{className:P.a.self,children:[t===T[0]&&Object(l.jsx)(B,{onClick:o(1)}),t===T[1]&&Object(l.jsx)(w,{onClick:o(2)}),t===T[2]&&Object(l.jsx)(M,{onClick:o(3)}),t===T[3]&&Object(l.jsx)(N,{onClick:o(4)}),t===T[4]&&Object(l.jsx)(d,{onClick:o(5)})]})}},83:function(e,n,t){e.exports={title:"Night_title__2-g2s",mainFrame:"Night_mainFrame__2Z5QO",header:"Night_header__2Od1Y",functionFrame:"Night_functionFrame__3W_CY",function:"Night_function__1L-qH",functionClick:"Night_functionClick__16OZf",numFrame:"Night_numFrame__2bB1_",num:"Night_num__1l0LC",numClick:"Night_numClick__idV-o",null:"Night_null__3yRFc",nullClick:"Night_nullClick__1GMmw",btnFrame:"Night_btnFrame__1qLLv",backbtn:"Night_backbtn__RPMEt",btn:"Night_btn__yaZ5D"}},87:function(e,n,t){e.exports={title:"Player_title__2MdOx",parent:"Player_parent__18SxZ",child:"Player_child__BQHt2",text:"Player_text__2co06",btn:"Player_btn__22yQB"}},93:function(e,n,t){e.exports={title:"Role_title__3kq12",mainFrame:"Role_mainFrame__1W3-5",header:"Role_header__H7BxU",numFrame:"Role_numFrame__2K_7Z",num:"Role_num__3OILH",clicked:"Role_clicked__Fk8iS",btnFrame:"Role_btnFrame__Imd_m",backbtn:"Role_backbtn__2qrp7",btn:"Role_btn__2YKpm"}},94:function(e,n,t){e.exports={title:"Type_title__2OvUO",panel:"Type_panel__1pr1I",type:"Type_type__M8h1W",clicked:"Type_clicked__3QrI1",btn:"Type_btn__I6sdH"}},95:function(e,n,t){e.exports={self:"NewRecord_self__3zH-8"}}}]);
//# sourceMappingURL=5.bbbfdf5f.chunk.js.map