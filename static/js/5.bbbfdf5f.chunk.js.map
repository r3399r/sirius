{"version":3,"sources":["pages/newRecord/components/Daytime.tsx","pages/newRecord/components/Night.tsx","services/RecordService.ts","pages/newRecord/components/Player.tsx","pages/newRecord/components/Role.tsx","pages/newRecord/components/Type.tsx","pages/newRecord/NewRecord.tsx","pages/newRecord/components/Night.module.scss","pages/newRecord/components/Player.module.scss","pages/newRecord/components/Role.module.scss","pages/newRecord/components/Type.module.scss","pages/newRecord/NewRecord.module.scss"],"names":["daytime","Daytime","onClick","useSelector","rootState","map","v","i","Night","state","useState","nightStep","setNightStep","nightData","setNightData","kill","setKill","rescue","setRescue","poison","setPoision","check","setCheck","guard","setGuard","hunterShoot","setHunterShoot","wolfKingShoot","setWolfKingShoot","whichIsClicked","setWhichIsClicked","dieList","setDieList","useEffect","record","type","roleName","roleCode","nightAction","nightNull","onRoleClick","id","Number","savePlayer","tmpDieList","playerInput","_","cloneDeep","player","element","idx","findIndex","x","String","alive","dispatch","setPlayer","saveNight","hunterShootInput","find","role","wolfKingShootInput","nightInput","night","length","setNight","isRoleDisabled","includes","isWolfDisabled","isWitchDisabled","isSeerDisabled","isGuardDisabled","isHunterDisabled","isWolfKingDisabled","Error","isRescueDisabled","isPoisonDisabled","isSubmitDisabled","className","style","title","mainFrame","header","functionFrame","classNames","function","functionClick","disabled","numFrame","num","numClick","name","slice","null","nullClick","btnFrame","backbtn","btn","tmpkilled","concat","players","Player","useForm","register","handleSubmit","useDispatch","onSubmit","data","input","Object","keys","parent","child","text","required","autoComplete","htmlType","Role","numOrder","setNumOrder","roleStep","setRoleStep","roleData","setRoleData","howMany","displayRoleJudge","numIndex","indexOf","roleDataIndex","clicked","alert","numOrderConcat","playerAndRole","count","types","Type","onTypeClick","panel","setType","steps","NewRecord","step","setStep","self","module","exports"],"mappings":"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","file":"static/js/5.bbbfdf5f.chunk.js","sourcesContent":["import { Button } from 'antd';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { dispatch, RootState } from 'src/redux/store';\n\nconst daytime = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Daytime = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n\n  return (\n    <div>\n      <div>第一天白天</div>\n      <div>\n        {daytime.map((v: string, i: number) => {\n          return <div key={i}>{v}</div>;\n        })}\n      </div>\n      <div>\n        <Button onClick={onClick}>Submit</Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Daytime;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { setNight, setPlayer } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport {\n  getNightData,\n  isGuardDisabled,\n  isHunterDisabled,\n  isSeerDisabled,\n  isWitchDisabled,\n  isWolfDisabled,\n  isWolfKingDisabled,\n  NightDataType,\n} from 'src/services/RecordService';\nimport style from './Night.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Night = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [nightStep, setNightStep] = useState<number>(0);\n  const [nightData, setNightData] = useState<NightDataType[]>([]);\n\n  const [kill, setKill] = useState<number>(-1);\n  const [rescue, setRescue] = useState<boolean>(false);\n  const [poison, setPoision] = useState<number>(-1);\n  const [check, setCheck] = useState<number>(-1);\n  const [guard, setGuard] = useState<number>(-1);\n  const [hunterShoot, setHunterShoot] = useState<number>(-1);\n  const [wolfKingShoot, setWolfKingShoot] = useState<number>(-1);\n  const [whichIsClicked, setWhichIsClicked] = useState<number>(-1);\n  const [dieList, setDieList] = useState<number[]>([]);\n\n  useEffect(() => {\n    setNightData(getNightData(state.record.type!));\n  }, [state]);\n\n  const onRoleClick = (id: string) => () => {\n    setWhichIsClicked(Number(id));\n    if (nightData[nightStep].roleCode === 'wolf') setKill(Number(id));\n    if (nightData[nightStep].roleCode === 'witch')\n      if (poison === 13) setPoision(Number(id));\n      else setPoision(0); // 無行動\n    if (nightData[nightStep].roleCode === 'seer') setCheck(Number(id));\n    if (nightData[nightStep].roleCode === 'guard') setGuard(Number(id));\n    if (nightData[nightStep].roleCode === 'hunter') setHunterShoot(Number(id));\n    if (nightData[nightStep].roleCode === 'wolf-king') setWolfKingShoot(Number(id));\n  };\n\n  const onRescueClick = () => {\n    setRescue(true);\n    setWhichIsClicked(13);\n  };\n\n  const onPoisionClick = () => {\n    setPoision(13);\n    setWhichIsClicked(13);\n  };\n  const savePlayer = (tmpDieList: number[]) => {\n    const playerInput: Player[] = _.cloneDeep(state.record.player);\n    for (const element of tmpDieList) {\n      const idx = playerInput.findIndex((x: Player) => x.id === String(element));\n      playerInput[idx].alive = false;\n    }\n    dispatch(setPlayer(playerInput));\n\n    return playerInput;\n  };\n\n  const saveNight = (playerInput: Player[]) => {\n    let hunterShootInput: number = -1;\n    if (playerInput.find((x: Player) => x.role === 'hunter')?.alive === true) hunterShootInput = 13;\n    else hunterShootInput = hunterShoot;\n    let wolfKingShootInput: number = -1;\n    if (playerInput.find((x: Player) => x.role === 'wolf-king')?.alive === true)\n      wolfKingShootInput = 13;\n    else wolfKingShootInput = wolfKingShoot;\n    const nightInput = {\n      id: String(state.record.night.length + 1),\n      kill,\n      rescue,\n      poison,\n      check,\n      guard,\n      hunterShoot: hunterShootInput,\n      wolfKingShoot: wolfKingShootInput,\n    };\n    dispatch(setNight(nightInput));\n  };\n\n  const onSubmitClick = () => {\n    setWhichIsClicked(-1);\n    let tmpkilled = -1;\n\n    if (nightData[nightStep].roleCode === 'guard') {\n      let tmpDieList: number[] = [];\n      if (poison > 0) tmpDieList = tmpDieList.concat(poison);\n      if (kill > 0 && kill !== poison) {\n        if (rescue === true && kill === guard) {\n          tmpkilled = kill;\n          tmpDieList = tmpDieList.concat(kill);\n        }\n        if (rescue === false && kill !== guard) {\n          tmpkilled = kill;\n          tmpDieList = tmpDieList.concat(kill);\n        }\n      }\n      setDieList(tmpDieList);\n      if (Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) === tmpkilled)\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n      else if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) === tmpkilled\n      )\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n      else {\n        const playerInput: Player[] = savePlayer(tmpDieList);\n        saveNight(playerInput);\n        onClick();\n      }\n    } else if (nightData[nightStep].roleCode === 'hunter')\n      if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) !==\n          tmpkilled &&\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) ===\n          hunterShoot\n      ) {\n        setDieList(dieList.concat(hunterShoot));\n\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n      } else {\n        const playerInput = savePlayer(dieList.concat(hunterShoot));\n        saveNight(playerInput);\n        setDieList(dieList.concat(hunterShoot));\n        onClick();\n      }\n    else if (nightData[nightStep].roleCode === 'wolf-king')\n      if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) !== tmpkilled &&\n        Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) ===\n          wolfKingShoot\n      ) {\n        setDieList(dieList.concat(wolfKingShoot));\n\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n      } else {\n        const playerInput = savePlayer(dieList.concat(wolfKingShoot));\n        saveNight(playerInput);\n        setDieList(dieList.concat(wolfKingShoot));\n        onClick();\n      }\n    else return setNightStep(nightStep + 1);\n  };\n\n  const onReturnClick = () => {\n    if (whichIsClicked === -1) {\n      if (\n        nightData[nightStep].roleCode !== 'wolf' &&\n        nightData[nightStep].roleCode !== 'hunter' &&\n        nightData[nightStep].roleCode !== 'wolf-king'\n      )\n        setNightStep(nightStep - 1);\n      if (nightData[nightStep - 1].roleCode === 'wolf') setKill(-1);\n      if (nightData[nightStep - 1].roleCode === 'witch') {\n        setRescue(false);\n        setPoision(-1);\n      }\n      if (nightData[nightStep - 1].roleCode === 'seer') setCheck(-1);\n      if (nightData[nightStep].roleCode === 'hunter')\n        if (\n          dieList.includes(\n            Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id),\n          )\n        ) {\n          setWolfKingShoot(-1);\n          setDieList(dieList.slice(0, -1));\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n        } else {\n          setGuard(-1);\n          setDieList([]);\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'guard'));\n        }\n      if (nightData[nightStep].roleCode === 'wolf-king')\n        if (\n          dieList.includes(\n            Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id),\n          )\n        ) {\n          setHunterShoot(-1);\n          setDieList(dieList.slice(0, -1));\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n        } else {\n          setGuard(-1);\n          setDieList([]);\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'guard'));\n        }\n    } else if (nightData[nightStep].roleCode === 'wolf') setKill(-1);\n    if (nightData[nightStep].roleCode === 'witch') {\n      setRescue(false);\n      setPoision(-1);\n    }\n    if (nightData[nightStep].roleCode === 'seer') setCheck(-1);\n    if (nightData[nightStep].roleCode === 'guard') setGuard(-1);\n    if (nightData[nightStep].roleCode === 'hunter') setHunterShoot(-1);\n    if (nightData[nightStep].roleCode === 'wolf-king') setWolfKingShoot(-1);\n    setWhichIsClicked(-1);\n  };\n\n  const isRoleDisabled = (id: string) => {\n    if (dieList.includes(Number(id))) return true;\n    if (Number(id) > 0 && _(state.record.player).find((x: Player) => x.id === id)?.alive !== true)\n      return true;\n    if (nightData[nightStep].roleCode === 'wolf') return isWolfDisabled(id, kill);\n    else if (nightData[nightStep].roleCode === 'witch')\n      return isWitchDisabled(id, rescue, poison, kill, state.record.player);\n    else if (nightData[nightStep].roleCode === 'seer')\n      return isSeerDisabled(id, check, state.record.player);\n    else if (nightData[nightStep].roleCode === 'guard') return isGuardDisabled(id, guard);\n    else if (nightData[nightStep].roleCode === 'hunter')\n      return isHunterDisabled(id, hunterShoot, state.record.player);\n    else if (nightData[nightStep].roleCode === 'wolf-king')\n      return isWolfKingDisabled(id, wolfKingShoot, state.record.player);\n    else throw new Error('OverStep');\n  };\n\n  const isRescueDisabled =\n    kill === Number(_(state.record.player).find((x: Player) => x.role === 'witch')?.id) ||\n    poison >= 0 ||\n    kill <= 0;\n\n  const isPoisonDisabled = rescue === true || poison === 0;\n\n  const isSubmitDisabled = !(whichIsClicked >= 0 && whichIsClicked <= 12);\n\n  if (nightData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>第 {state.record.night.length + 1} 夜</div>\n      <div className={style.mainFrame}>\n        <div>\n          <div className={style.header}>{nightData[nightStep].nightAction}</div>\n          {nightData[nightStep].roleCode === 'witch' && (\n            <div className={style.functionFrame}>\n              <Button\n                className={classNames(style.function, {\n                  [style.functionClick]: rescue === true,\n                })}\n                type=\"text\"\n                onClick={onRescueClick}\n                disabled={isRescueDisabled}\n              >\n                解救\n              </Button>\n              <Button\n                className={classNames(style.function, {\n                  [style.functionClick]: poison > 0,\n                })}\n                type=\"text\"\n                onClick={onPoisionClick}\n                disabled={isPoisonDisabled}\n              >\n                撒毒\n              </Button>\n            </div>\n          )}\n        </div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                className={classNames(style.num, {\n                  [style.numClick]: whichIsClicked === Number(v.id),\n                })}\n                key={v.id}\n                type=\"text\"\n                onClick={onRoleClick(v.id)}\n                disabled={isRoleDisabled(v.id)}\n              >\n                {v.id} {nightData.find((x: NightDataType) => x.roleCode === v.role)?.roleName}\n                <br />\n                {v.name.slice(0, 7)}\n              </Button>\n            );\n          })}\n          <Button\n            className={classNames(style.null, {\n              [style.nullClick]: whichIsClicked === 0,\n            })}\n            type=\"text\"\n            onClick={onRoleClick('0')}\n            disabled={isRoleDisabled('0')}\n          >\n            {nightData[nightStep].nightNull}\n          </Button>\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          onClick={onSubmitClick}\n          disabled={isSubmitDisabled}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Night;\n","import { Player } from 'src/model/Record';\n\nexport type RoleDataType = {\n  roleName: string;\n  roleCode: string;\n  howMany: number;\n};\n\nexport type NightDataType = {\n  roleName: string;\n  roleCode: string;\n  nightAction: string | null;\n  nightNull: string | null;\n};\n\nexport const getRoleData = (type: string): RoleDataType[] => {\n  // if (type === '某版型')\n  return [\n    { roleName: '女巫', roleCode: 'witch', howMany: 1 },\n    { roleName: '預言家', roleCode: 'seer', howMany: 1 },\n    { roleName: '守衛', roleCode: 'guard', howMany: 1 },\n    { roleName: '獵人', roleCode: 'hunter', howMany: 1 },\n    { roleName: '狼王', roleCode: 'wolf-king', howMany: 1 },\n    { roleName: '狼', roleCode: 'wolf', howMany: 3 },\n    { roleName: '平民', roleCode: 'villager', howMany: 4 },\n  ];\n  // throw new Error('unexpected game type')\n};\n\nexport const getNightData = (type: string): NightDataType[] => {\n  // if (type === '某版型')\n  return [\n    { roleName: '狼', roleCode: 'wolf', nightAction: '狼刀', nightNull: '空刀' },\n    { roleName: '女巫', roleCode: 'witch', nightAction: '女巫', nightNull: '無行動' },\n    {\n      roleName: '預言家',\n      roleCode: 'seer',\n      nightAction: '預言家查驗',\n      nightNull: '無查驗',\n    },\n    { roleName: '守衛', roleCode: 'guard', nightAction: '守衛守護', nightNull: '空守' },\n    { roleName: '獵人', roleCode: 'hunter', nightAction: '獵人開槍', nightNull: '壓槍' },\n    {\n      roleName: '狼王',\n      roleCode: 'wolf-king',\n      nightAction: '狼王開槍',\n      nightNull: '壓槍',\n    },\n    { roleName: '平民', roleCode: 'villager', nightAction: null, nightNull: null },\n  ];\n};\n\nexport const isWolfDisabled = (id: string, kill: number) => {\n  if (kill >= 0)\n    if (Number(id) === kill) return false;\n    else return true;\n  else return false;\n};\nexport const isWitchDisabled = (\n  id: string,\n  rescue: boolean,\n  poison: number,\n  kill: number,\n  player: Player[],\n) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'witch') return true;\n  else if (Number(id) === 0)\n    if (rescue === false && poison <= 0) return false;\n    else return true;\n  else if (rescue === true)\n    if (Number(id) === kill) return false;\n    else return true;\n  else if (poison === 13) return false;\n  // 確認開毒\n  else if (poison > 0)\n    if (Number(id) === poison) return false;\n    // 僅有被毒者為可按下\n    else return true;\n  else if (poison === 0) return true;\n  // 無行動\n  else return true;\n};\nexport const isSeerDisabled = (id: string, check: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'seer') return true;\n  else if (check >= 0)\n    if (Number(id) === check) return false;\n    else return true;\n  else return false;\n};\nexport const isGuardDisabled = (id: string, guard: number) => {\n  if (guard >= 0)\n    if (Number(id) === guard) return false;\n    else return true;\n  else return false;\n};\nexport const isHunterDisabled = (id: string, hunterShoot: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'hunter') return true;\n  else if (hunterShoot >= 0)\n    if (Number(id) === hunterShoot) return false;\n    else return true;\n  else return false;\n};\nexport const isWolfKingDisabled = (id: string, wolfKingShoot: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'wolf-king') return true;\n  else if (wolfKingShoot >= 0)\n    if (Number(id) === wolfKingShoot) return false;\n    else return true;\n  else return false;\n};\n","import { Button, Input } from 'antd';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { Player as PlayerType } from 'src/model/Record';\nimport { setPlayer } from 'src/redux/recordSlice';\nimport style from './Player.module.scss';\n\nconst players = [\n  '玩家 1',\n  '玩家 2',\n  '玩家 3',\n  '玩家 4',\n  '玩家 5',\n  '玩家 6',\n  '玩家 7',\n  '玩家 8',\n  '玩家 9',\n  '玩家 10',\n  '玩家 11',\n  '玩家 12',\n];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Player = ({ onClick }: Props) => {\n  const { register, handleSubmit } = useForm();\n  const dispatch = useDispatch();\n\n  const onSubmit = (data: any) => {\n    const input: PlayerType[] = Object.keys(data).map((id: string) => {\n      return { id, name: data[id] };\n    });\n    dispatch(setPlayer(input));\n    onClick();\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className={style.title}>玩家名稱</div>\n      <div className={style.parent}>\n        {players.map((v: string, i: number) => {\n          return (\n            <div className={style.child} key={i}>\n              <div className={style.text}>{v}</div>\n              <Input {...register(`${i + 1}`, { required: true })} autoComplete=\"off\" />\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <Button type=\"text\" htmlType=\"submit\" className={style.btn}>\n          Submit\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default Player;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { setPlayer } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport { getRoleData, RoleDataType } from 'src/services/RecordService';\nimport style from './Role.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Role = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [numOrder, setNumOrder] = useState<number[]>([]);\n  const [roleStep, setRoleStep] = useState<number>(0);\n  const [roleData, setRoleData] = useState<RoleDataType[]>([]);\n  const [whichIsClicked, setWhichIsClicked] = useState<number[]>([]);\n\n  useEffect(() => {\n    setRoleData(getRoleData(state.record.type!));\n  }, [state]);\n\n  const onRoleClick = (num: string) => () => {\n    if (!numOrder.includes(Number(num))) {\n      if (!whichIsClicked.includes(Number(num)))\n        setWhichIsClicked(whichIsClicked.concat(Number(num)));\n    } else alert('玩家角色重複');\n  };\n\n  const onSubmitClick = () => {\n    const numOrderConcat = numOrder.concat(whichIsClicked);\n    setNumOrder(numOrderConcat);\n    if (roleStep === 6) {\n      let playerAndRole: Player[] = [];\n      let roleDataIndex = 0;\n      let count = 0;\n      for (const element of numOrderConcat) {\n        const id = String(element);\n        const name = _(state.record.player).find((v: Player) => v.id === id)!.name;\n        const role = roleData[roleDataIndex].roleCode;\n        const input = { id, name, role, alive: true };\n        playerAndRole = playerAndRole.concat(input);\n        count += 1;\n        if (count === roleData[roleDataIndex].howMany) {\n          roleDataIndex += 1;\n          count = 0;\n        }\n      }\n      dispatch(setPlayer(playerAndRole));\n      onClick();\n    } else setRoleStep(roleStep + 1);\n    setWhichIsClicked([]);\n  };\n\n  const onReturnClick = () => {\n    if (whichIsClicked.length === 0)\n      if (roleStep !== 0) {\n        setNumOrder(numOrder.slice(0, numOrder.length - roleData[roleStep - 1].howMany));\n        setRoleStep(roleStep - 1);\n      }\n    setWhichIsClicked([]);\n  };\n\n  const numDisabledJudge = (i: number) => {\n    if (whichIsClicked.includes(i)) return false;\n    else if (roleData[roleStep].howMany === whichIsClicked.length) return true;\n    else return false;\n  };\n\n  const submitDisabledJudge = () => {\n    if (roleData[roleStep].howMany === whichIsClicked.length) return false;\n    else return true;\n  };\n\n  const displayRoleJudge = (i: number) => {\n    if (numOrder.includes(i)) {\n      let numIndex = numOrder.indexOf(i) + 1;\n      let roleDataIndex = 0;\n      while (numIndex > 0) {\n        numIndex -= roleData[roleDataIndex].howMany;\n        if (numIndex <= 0) return roleData[roleDataIndex].roleName;\n        roleDataIndex += 1;\n      }\n    } else return '';\n  };\n\n  if (roleData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>身份發放</div>\n      <div className={style.mainFrame}>\n        <div className={style.header}>{roleData[roleStep].roleName}</div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                key={v.id}\n                className={classNames(style.num, {\n                  [style.clicked]:\n                    numOrder.includes(Number(v.id)) || whichIsClicked.includes(Number(v.id)),\n                })}\n                type=\"text\"\n                onClick={onRoleClick(v.id)}\n                disabled={numDisabledJudge(Number(v.id))}\n              >\n                {v.id} {displayRoleJudge(Number(v.id))}\n                <br />\n                {v.name.slice(0, 5)}\n              </Button>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={submitDisabledJudge()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Role;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setType } from 'src/redux/recordSlice';\nimport style from './Type.module.scss';\n\nconst types = [\n  '狼王守衛',\n  '守墓人石像鬼',\n  '狼美人騎士',\n  '機械狼',\n  '狼王魔術師',\n  '預女獵白',\n  '噩夢之影',\n];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Type = ({ onClick }: Props) => {\n  const dispatch = useDispatch();\n  const [whichIsClicked, setWhichIsClicked] = useState<number>(-1);\n\n  const onTypeClick = (i: number) => () => {\n    setWhichIsClicked(i);\n  };\n\n  const onSubmit = () => {\n    dispatch(setType(types[whichIsClicked]));\n    onClick();\n  };\n\n  return (\n    <div>\n      <div className={style.title}>選擇版型</div>\n      <div className={style.panel}>\n        {types.map((v: string, i: number) => {\n          return (\n            <div\n              key={i}\n              className={classNames(style.type, { [style.clicked]: i === whichIsClicked })}\n              role=\"button\"\n              onClick={onTypeClick(i)}\n            >\n              {v}\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <Button type=\"text\" className={style.btn} onClick={onSubmit} disabled={whichIsClicked < 0}>\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Type;\n","import { useState } from 'react';\nimport Daytime from './components/Daytime';\nimport Night from './components/Night';\nimport Player from './components/Player';\nimport Role from './components/Role';\nimport Type from './components/Type';\nimport style from './NewRecord.module.scss';\n\nconst steps = ['type', 'player', 'role', 'night', 'daytime', 'blank'];\n\nconst NewRecord = () => {\n  const [step, setStep] = useState<string>(steps[0]);\n  const onSubmit = (i: number) => () => {\n    setStep(steps[i]);\n  };\n\n  return (\n    <div className={style.self}>\n      {step === steps[0] && <Type onClick={onSubmit(1)} />}\n      {step === steps[1] && <Player onClick={onSubmit(2)} />}\n      {step === steps[2] && <Role onClick={onSubmit(3)} />}\n      {step === steps[3] && <Night onClick={onSubmit(4)} />}\n      {step === steps[4] && <Daytime onClick={onSubmit(5)} />}\n    </div>\n  );\n};\n\nexport default NewRecord;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Night_title__2-g2s\",\"mainFrame\":\"Night_mainFrame__2Z5QO\",\"header\":\"Night_header__2Od1Y\",\"functionFrame\":\"Night_functionFrame__3W_CY\",\"function\":\"Night_function__1L-qH\",\"functionClick\":\"Night_functionClick__16OZf\",\"numFrame\":\"Night_numFrame__2bB1_\",\"num\":\"Night_num__1l0LC\",\"numClick\":\"Night_numClick__idV-o\",\"null\":\"Night_null__3yRFc\",\"nullClick\":\"Night_nullClick__1GMmw\",\"btnFrame\":\"Night_btnFrame__1qLLv\",\"backbtn\":\"Night_backbtn__RPMEt\",\"btn\":\"Night_btn__yaZ5D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Player_title__2MdOx\",\"parent\":\"Player_parent__18SxZ\",\"child\":\"Player_child__BQHt2\",\"text\":\"Player_text__2co06\",\"btn\":\"Player_btn__22yQB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Role_title__3kq12\",\"mainFrame\":\"Role_mainFrame__1W3-5\",\"header\":\"Role_header__H7BxU\",\"numFrame\":\"Role_numFrame__2K_7Z\",\"num\":\"Role_num__3OILH\",\"clicked\":\"Role_clicked__Fk8iS\",\"btnFrame\":\"Role_btnFrame__Imd_m\",\"backbtn\":\"Role_backbtn__2qrp7\",\"btn\":\"Role_btn__2YKpm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Type_title__2OvUO\",\"panel\":\"Type_panel__1pr1I\",\"type\":\"Type_type__M8h1W\",\"clicked\":\"Type_clicked__3QrI1\",\"btn\":\"Type_btn__I6sdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"self\":\"NewRecord_self__3zH-8\"};"],"sourceRoot":""}