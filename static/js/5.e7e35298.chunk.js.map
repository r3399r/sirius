{"version":3,"sources":["pages/newRecord/components/Daytime.tsx","services/RecordService.ts","pages/newRecord/components/DaytimeDeath.tsx","pages/newRecord/components/GiveUp.tsx","pages/newRecord/components/Night.tsx","pages/newRecord/components/Player.tsx","pages/newRecord/components/Role.tsx","pages/newRecord/components/Sheriff.tsx","pages/newRecord/components/Type.tsx","pages/newRecord/NewRecord.tsx","pages/newRecord/components/Daytime.module.scss","pages/newRecord/components/DaytimeDeath.module.scss","pages/newRecord/components/GiveUp.module.scss","pages/newRecord/components/Night.module.scss","pages/newRecord/components/Player.module.scss","pages/newRecord/components/Role.module.scss","pages/newRecord/components/Sheriff.module.scss","pages/newRecord/components/Type.module.scss","pages/newRecord/NewRecord.module.scss"],"names":["Daytime","onClick","state","useSelector","rootState","useState","stageStep","setStageStep","roleData","setRoleData","voted","setVoted","whichIsClicked","setWhichIsClicked","voteResult","setVoteResult","useEffect","record","type","roleName","roleCode","howMany","isNumDisabled","id","_","player","find","x","String","alive","includes","length","className","style","title","night","mainFrame","header","numFrame","map","v","classNames","num","clicked","Number","concat","disabled","role","name","slice","null","nullClick","btnFrame","backbtn","btn","tmpVoteResult","cloneDeep","DaytimeDeath","deathstatus","setDeathstatus","deathBtn","daytimeDeathInput","daytimeDeath","status","dispatch","setDaytimeDeath","GiveUp","numDisabledJudge","i","Night","nightStep","setNightStep","nightData","setNightData","kill","setKill","rescue","setRescue","poison","setPoision","check","setCheck","guard","setGuard","hunterShoot","setHunterShoot","wolfKingShoot","setWolfKingShoot","dieList","setDieList","nightAction","nightNull","onRoleClick","savePlayer","tmpDieList","playerInput","element","idx","findIndex","setPlayer","saveNight","hunterShootInput","wolfKingShootInput","nightInput","setNight","isRoleDisabled","isWolfDisabled","isWitchDisabled","isSeerDisabled","isGuardDisabled","isHunterDisabled","isWolfKingDisabled","Error","isRescueDisabled","isPoisonDisabled","isSubmitDisabled","functionFrame","function","functionClick","numClick","tmpkilled","players","Player","useForm","register","handleSubmit","useDispatch","onSubmit","data","input","Object","keys","parent","child","text","required","autoComplete","htmlType","Role","numOrder","setNumOrder","roleStep","setRoleStep","displayRoleJudge","numIndex","indexOf","roleDataIndex","alert","numOrderConcat","playerAndRole","count","stage","Sheriff","nullIsClicked","setNullIsClick","runForList","setRunForList","withdrawList","setWithdrawList","candidate","setCandidate","candidateStep","setCandidateStep","firstVoteResult","setFirstVoteResult","firstVotes","setFirstVotes","competitor","setCompetitor","competitorStep","setCompetitorStep","secondVoteResult","setSecondVoteResult","secondVotes","setSecondVotes","saveSheriff","sheriffInput","runFor","withdraw","firstVote","1","2","3","4","5","6","7","8","9","10","11","12","secondVote","sheriff","setSheriff","reduce","a","b","tmpCandidate","sort","maxVotes","Math","max","apply","filter","tmpCompetitor","types","Type","onTypeClick","panel","setType","steps","NewRecord","step","setStep","self","onGiveUpClick","onSheriffClick","module","exports"],"mappings":"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","file":"static/js/5.e7e35298.chunk.js","sourcesContent":["import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { dispatch, RootState } from 'src/redux/store';\nimport { getRoleData, RoleDataType } from 'src/services/RecordService';\nimport style from './Daytime.module.scss';\n\nconst daytime = ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10', '11', '12'];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Daytime = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [stageStep, setStageStep] = useState<number>(0);\n  const [roleData, setRoleData] = useState<RoleDataType[]>([]);\n  const [voted, setVoted] = useState<number>(-1);\n  const [whichIsClicked, setWhichIsClicked] = useState<number[]>([]);\n  const [voteResult, setVoteResult] = useState<number[]>([\n    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  ]);\n\n  useEffect(() => {\n    setRoleData(getRoleData(state.record.type!));\n  }, [state]);\n\n  const onNumClick = (id: number) => () => {\n    if (stageStep === 0) setVoted(id);\n    else setWhichIsClicked(whichIsClicked.concat(id));\n  };\n\n  const onNullClick = () => {\n    setVoted(0);\n  };\n\n  const onReturnClick = () => {\n    if (stageStep === 0) setVoted(-1);\n    else setWhichIsClicked([]);\n  };\n\n  const onSubmitClick = () => {\n    if (stageStep === 0) setStageStep(1);\n    else {\n      if (voted === 0) onClick();\n      const tmpVoteResult = _.cloneDeep(voteResult);\n      for (const element of whichIsClicked) tmpVoteResult[element - 1] = voted;\n      setVoteResult(tmpVoteResult);\n      setVoted(-1);\n      setWhichIsClicked([]);\n      setStageStep(0);\n    }\n  };\n\n  const isNumDisabled = (id: number) => {\n    if (_(state.record.player).find((x: Player) => x.id === String(id))?.alive === false)\n      return true;\n    if (stageStep === 0)\n      if (voted === 0) return true;\n      else if (voteResult.includes(id)) return true;\n      else if (voted > 0)\n        if (voted === id) return false;\n        else return true;\n      else return false;\n    else if (voteResult[id - 1] === -1) return false;\n    else return true;\n  };\n\n  const isNullDisabled = () => {\n    if (voted > 0) return true;\n    else return false;\n  };\n\n  const isSubmitDisabled = () => {\n    if (stageStep === 0)\n      if (voted === -1) return true;\n      else return false;\n    else if (whichIsClicked === []) return true;\n    else return false;\n  };\n\n  const displayheader = () => {\n    if (stageStep === 0) return '選擇被投票者';\n    else if (voted === 0) return '棄票者';\n    else return '投給' + String(voted) + '號者';\n  };\n\n  if (roleData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>第 {state.record.night.length} 天白天放逐狀態</div>\n      <div className={style.mainFrame}>\n        <div className={style.header}>{displayheader()}</div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                key={v.id}\n                className={classNames(style.num, {\n                  [style.clicked]: whichIsClicked.includes(Number(v.id)),\n                })}\n                type=\"text\"\n                onClick={onNumClick(Number(v.id))}\n                disabled={isNumDisabled(Number(v.id))}\n              >\n                {v.id} {roleData.find((x: RoleDataType) => x.roleCode === v.role)?.roleName}\n                <br />\n                {v.name.slice(0, 5)}\n              </Button>\n            );\n          })}\n          {stageStep === 0 && (\n            <Button\n              className={classNames(style.null, {\n                [style.nullClick]: voted === 0,\n              })}\n              type=\"text\"\n              onClick={onNullClick}\n              disabled={isNullDisabled()}\n            >\n              無其他被投票者\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={isSubmitDisabled()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Daytime;\n","import { Player } from 'src/model/Record';\n\nexport type RoleDataType = {\n  roleName: string;\n  roleCode: string;\n  howMany: number;\n};\n\nexport type NightDataType = {\n  roleName: string;\n  roleCode: string;\n  nightAction: string | null;\n  nightNull: string | null;\n};\n\nexport const getRoleData = (type: string): RoleDataType[] => {\n  // if (type === '某版型')\n  return [\n    { roleName: '女巫', roleCode: 'witch', howMany: 1 },\n    { roleName: '預言家', roleCode: 'seer', howMany: 1 },\n    { roleName: '守衛', roleCode: 'guard', howMany: 1 },\n    { roleName: '獵人', roleCode: 'hunter', howMany: 1 },\n    { roleName: '狼王', roleCode: 'wolf-king', howMany: 1 },\n    { roleName: '狼', roleCode: 'wolf', howMany: 3 },\n    { roleName: '平民', roleCode: 'villager', howMany: 4 },\n  ];\n  // throw new Error('unexpected game type')\n};\n\nexport const getNightData = (type: string): NightDataType[] => {\n  // if (type === '某版型')\n  return [\n    { roleName: '狼', roleCode: 'wolf', nightAction: '狼刀', nightNull: '空刀' },\n    { roleName: '女巫', roleCode: 'witch', nightAction: '女巫', nightNull: '無行動' },\n    {\n      roleName: '預言家',\n      roleCode: 'seer',\n      nightAction: '預言家查驗',\n      nightNull: '無查驗',\n    },\n    { roleName: '守衛', roleCode: 'guard', nightAction: '守衛守護', nightNull: '空守' },\n    { roleName: '獵人', roleCode: 'hunter', nightAction: '獵人開槍', nightNull: '壓槍' },\n    {\n      roleName: '狼王',\n      roleCode: 'wolf-king',\n      nightAction: '狼王開槍',\n      nightNull: '壓槍',\n    },\n    { roleName: '平民', roleCode: 'villager', nightAction: null, nightNull: null },\n  ];\n};\n\nexport const isWolfDisabled = (id: string, kill: number) => {\n  if (kill >= 0)\n    if (Number(id) === kill) return false;\n    else return true;\n  else return false;\n};\nexport const isWitchDisabled = (\n  id: string,\n  rescue: boolean,\n  poison: number,\n  kill: number,\n  player: Player[],\n) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'witch') return true;\n  else if (Number(id) === 0)\n    if (rescue === false && poison <= 0) return false;\n    else return true;\n  else if (rescue === true)\n    if (Number(id) === kill) return false;\n    else return true;\n  else if (poison === 13) return false;\n  // 確認開毒\n  else if (poison > 0)\n    if (Number(id) === poison) return false;\n    // 僅有被毒者為可按下\n    else return true;\n  else if (poison === 0) return true;\n  // 無行動\n  else return true;\n};\nexport const isSeerDisabled = (id: string, check: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'seer') return true;\n  else if (check >= 0)\n    if (Number(id) === check) return false;\n    else return true;\n  else return false;\n};\nexport const isGuardDisabled = (id: string, guard: number) => {\n  if (guard >= 0)\n    if (Number(id) === guard) return false;\n    else return true;\n  else return false;\n};\nexport const isHunterDisabled = (id: string, hunterShoot: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'hunter') return true;\n  else if (hunterShoot >= 0)\n    if (Number(id) === hunterShoot) return false;\n    else return true;\n  else return false;\n};\nexport const isWolfKingDisabled = (id: string, wolfKingShoot: number, player: Player[]) => {\n  if (player.find((x: Player) => x.id === id)?.role === 'wolf-king') return true;\n  else if (wolfKingShoot >= 0)\n    if (Number(id) === wolfKingShoot) return false;\n    else return true;\n  else return false;\n};\n","import { Button } from 'antd';\nimport { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { DaytimeDeath as DaytimeDeathType } from 'src/model/Record';\nimport { setDaytimeDeath } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport style from './DaytimeDeath.module.scss';\n\ntype Props = {\n  onClick: (v: string) => void;\n};\n\nconst DaytimeDeath = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n\n  const [deathstatus, setDeathstatus] = useState<string>('');\n\n  const onGiveUpEarlierClick = () => {\n    setDeathstatus('giveUpEarlier');\n  };\n\n  const onGiveUpLaterClick = () => {\n    setDeathstatus('giveUpLater');\n  };\n\n  const onExileClick = () => {\n    setDeathstatus('exile');\n  };\n\n  const onReturnClick = () => {\n    setDeathstatus('');\n  };\n\n  const onSubmitClick = () => {\n    const daytimeDeathInput: DaytimeDeathType = {\n      id: String(state.record.daytimeDeath.length + 1),\n      status: deathstatus,\n    };\n    dispatch(setDaytimeDeath(daytimeDeathInput));\n    onClick(deathstatus);\n  };\n\n  const isGiveUpEarlierDisabled = () => {\n    if (deathstatus === 'giveUpLater' || deathstatus === 'exile') return true;\n    else return false;\n  };\n\n  const isGiveUpLaterDisabled = () => {\n    if (deathstatus === 'giveUpEarlier' || deathstatus === 'exile') return true;\n    else return false;\n  };\n\n  const isExileDisabled = () => {\n    if (deathstatus === 'giveUpEarlier' || deathstatus === 'giveUpLater') return true;\n    else return false;\n  };\n\n  const isSubmitDisabled = () => {\n    if (deathstatus === '') return true;\n    else return false;\n  };\n\n  return (\n    <div>\n      <div className={style.title}>第 {state.record.night.length} 天白天死亡狀態</div>\n      <div className={style.mainFrame}>\n        <Button\n          type=\"text\"\n          className={style.deathBtn}\n          onClick={onGiveUpEarlierClick}\n          disabled={isGiveUpEarlierDisabled()}\n        >\n          警上自爆\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.deathBtn}\n          onClick={onGiveUpLaterClick}\n          disabled={isGiveUpLaterDisabled()}\n        >\n          警下自爆\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.deathBtn}\n          onClick={onExileClick}\n          disabled={isExileDisabled()}\n        >\n          投票放逐\n        </Button>\n      </div>\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={isSubmitDisabled()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default DaytimeDeath;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { dispatch, RootState } from 'src/redux/store';\nimport { getRoleData, RoleDataType } from 'src/services/RecordService';\nimport style from './GiveUp.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst GiveUp = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [whichIsClicked, setWhichIsClicked] = useState<number>(-1);\n  const [roleData, setRoleData] = useState<RoleDataType[]>([]);\n\n  useEffect(() => {\n    setRoleData(getRoleData(state.record.type!));\n  }, [state]);\n\n  const onNumClick = (i: number) => () => {\n    setWhichIsClicked(i);\n  };\n\n  const onReturnClick = () => {\n    setWhichIsClicked(-1);\n  };\n\n  const onSubmitClick = () => {\n    onClick();\n  };\n\n  const numDisabledJudge = (id: string) => {\n    if (\n      _(state.record.player).find((x: Player) => x.id === id)?.role === 'wolf' ||\n      _(state.record.player).find((x: Player) => x.id === id)?.role === 'wolf-king'\n    )\n      if (whichIsClicked === -1) return false;\n      else if (whichIsClicked === Number(id)) return false;\n      else return true;\n    else return true;\n  };\n\n  const submitDisabledJudge = () => {\n    if (whichIsClicked === -1) return true;\n    else return false;\n  };\n\n  if (roleData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>第 {state.record.night.length} 天白天自爆玩家</div>\n      <div className={style.numFrame}>\n        {state.record.player?.map((v: Player) => {\n          return (\n            <Button\n              key={v.id}\n              className={classNames(style.num, {\n                [style.clicked]: whichIsClicked === Number(v.id),\n              })}\n              type=\"text\"\n              onClick={onNumClick(Number(v.id))}\n              disabled={numDisabledJudge(v.id)}\n            >\n              {v.id} {roleData.find((x: RoleDataType) => x.roleCode === v.role)?.roleName}\n              <br />\n              {v.name.slice(0, 7)}\n            </Button>\n          );\n        })}\n      </div>\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={submitDisabledJudge()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default GiveUp;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { setNight, setPlayer } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport {\n  getNightData,\n  isGuardDisabled,\n  isHunterDisabled,\n  isSeerDisabled,\n  isWitchDisabled,\n  isWolfDisabled,\n  isWolfKingDisabled,\n  NightDataType,\n} from 'src/services/RecordService';\nimport style from './Night.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Night = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [nightStep, setNightStep] = useState<number>(0);\n  const [nightData, setNightData] = useState<NightDataType[]>([]);\n\n  const [kill, setKill] = useState<number>(-1);\n  const [rescue, setRescue] = useState<boolean>(false);\n  const [poison, setPoision] = useState<number>(-1);\n  const [check, setCheck] = useState<number>(-1);\n  const [guard, setGuard] = useState<number>(-1);\n  const [hunterShoot, setHunterShoot] = useState<number>(-1);\n  const [wolfKingShoot, setWolfKingShoot] = useState<number>(-1);\n  const [whichIsClicked, setWhichIsClicked] = useState<number>(-1);\n  const [dieList, setDieList] = useState<number[]>([]);\n\n  useEffect(() => {\n    setNightData(getNightData(state.record.type!));\n  }, [state]);\n\n  const onRoleClick = (id: string) => () => {\n    setWhichIsClicked(Number(id));\n    if (nightData[nightStep].roleCode === 'wolf') setKill(Number(id));\n    if (nightData[nightStep].roleCode === 'witch')\n      if (poison === 13) setPoision(Number(id));\n      else setPoision(0); // 無行動\n    if (nightData[nightStep].roleCode === 'seer') setCheck(Number(id));\n    if (nightData[nightStep].roleCode === 'guard') setGuard(Number(id));\n    if (nightData[nightStep].roleCode === 'hunter') setHunterShoot(Number(id));\n    if (nightData[nightStep].roleCode === 'wolf-king') setWolfKingShoot(Number(id));\n  };\n\n  const onRescueClick = () => {\n    setRescue(true);\n    setWhichIsClicked(13);\n  };\n\n  const onPoisionClick = () => {\n    setPoision(13);\n    setWhichIsClicked(13);\n  };\n  const savePlayer = (tmpDieList: number[]) => {\n    const playerInput: Player[] = _.cloneDeep(state.record.player);\n    for (const element of tmpDieList) {\n      const idx = playerInput.findIndex((x: Player) => x.id === String(element));\n      playerInput[idx].alive = false;\n    }\n    dispatch(setPlayer(playerInput));\n\n    return playerInput;\n  };\n\n  const saveNight = (playerInput: Player[]) => {\n    let hunterShootInput: number = -1;\n    if (playerInput.find((x: Player) => x.role === 'hunter')?.alive === true) hunterShootInput = 13;\n    else hunterShootInput = hunterShoot;\n    let wolfKingShootInput: number = -1;\n    if (playerInput.find((x: Player) => x.role === 'wolf-king')?.alive === true)\n      wolfKingShootInput = 13;\n    else wolfKingShootInput = wolfKingShoot;\n    const nightInput = {\n      id: String(state.record.night.length + 1),\n      kill,\n      rescue,\n      poison,\n      check,\n      guard,\n      hunterShoot: hunterShootInput,\n      wolfKingShoot: wolfKingShootInput,\n    };\n    dispatch(setNight(nightInput));\n  };\n\n  const onSubmitClick = () => {\n    setWhichIsClicked(-1);\n    let tmpkilled = -1;\n\n    if (nightData[nightStep].roleCode === 'guard') {\n      let tmpDieList: number[] = [];\n      if (poison > 0) tmpDieList = tmpDieList.concat(poison);\n      if (kill > 0 && kill !== poison) {\n        if (rescue === true && kill === guard) {\n          tmpkilled = kill;\n          tmpDieList = tmpDieList.concat(kill);\n        }\n        if (rescue === false && kill !== guard) {\n          tmpkilled = kill;\n          tmpDieList = tmpDieList.concat(kill);\n        }\n      }\n      setDieList(tmpDieList);\n      if (Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) === tmpkilled)\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n      else if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) === tmpkilled\n      )\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n      else {\n        const playerInput: Player[] = savePlayer(tmpDieList);\n        saveNight(playerInput);\n        onClick();\n      }\n    } else if (nightData[nightStep].roleCode === 'hunter')\n      if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) !==\n          tmpkilled &&\n        Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id) ===\n          hunterShoot\n      ) {\n        setDieList(dieList.concat(hunterShoot));\n\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n      } else {\n        const playerInput = savePlayer(dieList.concat(hunterShoot));\n        saveNight(playerInput);\n        setDieList(dieList.concat(hunterShoot));\n        onClick();\n      }\n    else if (nightData[nightStep].roleCode === 'wolf-king')\n      if (\n        Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) !== tmpkilled &&\n        Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id) ===\n          wolfKingShoot\n      ) {\n        setDieList(dieList.concat(wolfKingShoot));\n\n        return setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n      } else {\n        const playerInput = savePlayer(dieList.concat(wolfKingShoot));\n        saveNight(playerInput);\n        setDieList(dieList.concat(wolfKingShoot));\n        onClick();\n      }\n    else return setNightStep(nightStep + 1);\n  };\n\n  const onReturnClick = () => {\n    if (whichIsClicked === -1) {\n      if (\n        nightData[nightStep].roleCode !== 'wolf' &&\n        nightData[nightStep].roleCode !== 'hunter' &&\n        nightData[nightStep].roleCode !== 'wolf-king'\n      )\n        setNightStep(nightStep - 1);\n      if (nightData[nightStep - 1].roleCode === 'wolf') setKill(-1);\n      if (nightData[nightStep - 1].roleCode === 'witch') {\n        setRescue(false);\n        setPoision(-1);\n      }\n      if (nightData[nightStep - 1].roleCode === 'seer') setCheck(-1);\n      if (nightData[nightStep].roleCode === 'hunter')\n        if (\n          dieList.includes(\n            Number(_(state.record.player).find((x: Player) => x.role === 'wolf-king')?.id),\n          )\n        ) {\n          setWolfKingShoot(-1);\n          setDieList(dieList.slice(0, -1));\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'wolf-king'));\n        } else {\n          setGuard(-1);\n          setDieList([]);\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'guard'));\n        }\n      if (nightData[nightStep].roleCode === 'wolf-king')\n        if (\n          dieList.includes(\n            Number(_(state.record.player).find((x: Player) => x.role === 'hunter')?.id),\n          )\n        ) {\n          setHunterShoot(-1);\n          setDieList(dieList.slice(0, -1));\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'hunter'));\n        } else {\n          setGuard(-1);\n          setDieList([]);\n          setNightStep(nightData.findIndex((x: NightDataType) => x.roleCode === 'guard'));\n        }\n    } else if (nightData[nightStep].roleCode === 'wolf') setKill(-1);\n    if (nightData[nightStep].roleCode === 'witch') {\n      setRescue(false);\n      setPoision(-1);\n    }\n    if (nightData[nightStep].roleCode === 'seer') setCheck(-1);\n    if (nightData[nightStep].roleCode === 'guard') setGuard(-1);\n    if (nightData[nightStep].roleCode === 'hunter') setHunterShoot(-1);\n    if (nightData[nightStep].roleCode === 'wolf-king') setWolfKingShoot(-1);\n    setWhichIsClicked(-1);\n  };\n\n  const isRoleDisabled = (id: string) => {\n    if (dieList.includes(Number(id))) return true;\n    if (Number(id) > 0 && _(state.record.player).find((x: Player) => x.id === id)?.alive !== true)\n      return true;\n    if (nightData[nightStep].roleCode === 'wolf') return isWolfDisabled(id, kill);\n    else if (nightData[nightStep].roleCode === 'witch')\n      return isWitchDisabled(id, rescue, poison, kill, state.record.player);\n    else if (nightData[nightStep].roleCode === 'seer')\n      return isSeerDisabled(id, check, state.record.player);\n    else if (nightData[nightStep].roleCode === 'guard') return isGuardDisabled(id, guard);\n    else if (nightData[nightStep].roleCode === 'hunter')\n      return isHunterDisabled(id, hunterShoot, state.record.player);\n    else if (nightData[nightStep].roleCode === 'wolf-king')\n      return isWolfKingDisabled(id, wolfKingShoot, state.record.player);\n    else throw new Error('OverStep');\n  };\n\n  const isRescueDisabled =\n    kill === Number(_(state.record.player).find((x: Player) => x.role === 'witch')?.id) ||\n    poison >= 0 ||\n    kill <= 0;\n\n  const isPoisonDisabled = rescue === true || poison === 0;\n\n  const isSubmitDisabled = !(whichIsClicked >= 0 && whichIsClicked <= 12);\n\n  if (nightData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>第 {state.record.night.length + 1} 夜</div>\n      <div className={style.mainFrame}>\n        <div>\n          <div className={style.header}>{nightData[nightStep].nightAction}</div>\n          {nightData[nightStep].roleCode === 'witch' && (\n            <div className={style.functionFrame}>\n              <Button\n                className={classNames(style.function, {\n                  [style.functionClick]: rescue === true,\n                })}\n                type=\"text\"\n                onClick={onRescueClick}\n                disabled={isRescueDisabled}\n              >\n                解救\n              </Button>\n              <Button\n                className={classNames(style.function, {\n                  [style.functionClick]: poison > 0,\n                })}\n                type=\"text\"\n                onClick={onPoisionClick}\n                disabled={isPoisonDisabled}\n              >\n                撒毒\n              </Button>\n            </div>\n          )}\n        </div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                className={classNames(style.num, {\n                  [style.numClick]: whichIsClicked === Number(v.id),\n                })}\n                key={v.id}\n                type=\"text\"\n                onClick={onRoleClick(v.id)}\n                disabled={isRoleDisabled(v.id)}\n              >\n                {v.id} {nightData.find((x: NightDataType) => x.roleCode === v.role)?.roleName}\n                <br />\n                {v.name.slice(0, 7)}\n              </Button>\n            );\n          })}\n          <Button\n            className={classNames(style.null, {\n              [style.nullClick]: whichIsClicked === 0,\n            })}\n            type=\"text\"\n            onClick={onRoleClick('0')}\n            disabled={isRoleDisabled('0')}\n          >\n            {nightData[nightStep].nightNull}\n          </Button>\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          onClick={onSubmitClick}\n          disabled={isSubmitDisabled}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Night;\n","import { Button, Input } from 'antd';\nimport { useForm } from 'react-hook-form';\nimport { useDispatch } from 'react-redux';\nimport { Player as PlayerType } from 'src/model/Record';\nimport { setPlayer } from 'src/redux/recordSlice';\nimport style from './Player.module.scss';\n\nconst players = [\n  '玩家 1',\n  '玩家 2',\n  '玩家 3',\n  '玩家 4',\n  '玩家 5',\n  '玩家 6',\n  '玩家 7',\n  '玩家 8',\n  '玩家 9',\n  '玩家 10',\n  '玩家 11',\n  '玩家 12',\n];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Player = ({ onClick }: Props) => {\n  const { register, handleSubmit } = useForm();\n  const dispatch = useDispatch();\n\n  const onSubmit = (data: any) => {\n    const input: PlayerType[] = Object.keys(data).map((id: string) => {\n      return { id, name: data[id] };\n    });\n    dispatch(setPlayer(input));\n    onClick();\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <div className={style.title}>玩家名稱</div>\n      <div className={style.parent}>\n        {players.map((v: string, i: number) => {\n          return (\n            <div className={style.child} key={i}>\n              <div className={style.text}>{v}</div>\n              <Input {...register(`${i + 1}`, { required: true })} autoComplete=\"off\" />\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <Button type=\"text\" htmlType=\"submit\" className={style.btn}>\n          Submit\n        </Button>\n      </div>\n    </form>\n  );\n};\n\nexport default Player;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player } from 'src/model/Record';\nimport { setPlayer } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport { getRoleData, RoleDataType } from 'src/services/RecordService';\nimport style from './Role.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Role = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [numOrder, setNumOrder] = useState<number[]>([]);\n  const [roleStep, setRoleStep] = useState<number>(0);\n  const [roleData, setRoleData] = useState<RoleDataType[]>([]);\n  const [whichIsClicked, setWhichIsClicked] = useState<number[]>([]);\n\n  useEffect(() => {\n    setRoleData(getRoleData(state.record.type!));\n  }, [state]);\n\n  const onRoleClick = (num: string) => () => {\n    if (!numOrder.includes(Number(num))) {\n      if (!whichIsClicked.includes(Number(num)))\n        setWhichIsClicked(whichIsClicked.concat(Number(num)));\n    } else alert('玩家角色重複');\n  };\n\n  const onSubmitClick = () => {\n    const numOrderConcat = numOrder.concat(whichIsClicked);\n    setNumOrder(numOrderConcat);\n    if (roleStep === 6) {\n      let playerAndRole: Player[] = [];\n      let roleDataIndex = 0;\n      let count = 0;\n      for (const element of numOrderConcat) {\n        const id = String(element);\n        const name = _(state.record.player).find((v: Player) => v.id === id)!.name;\n        const role = roleData[roleDataIndex].roleCode;\n        const input = { id, name, role, alive: true };\n        playerAndRole = playerAndRole.concat(input);\n        count += 1;\n        if (count === roleData[roleDataIndex].howMany) {\n          roleDataIndex += 1;\n          count = 0;\n        }\n      }\n      dispatch(setPlayer(playerAndRole));\n      onClick();\n    } else setRoleStep(roleStep + 1);\n    setWhichIsClicked([]);\n  };\n\n  const onReturnClick = () => {\n    if (whichIsClicked.length === 0)\n      if (roleStep !== 0) {\n        setNumOrder(numOrder.slice(0, numOrder.length - roleData[roleStep - 1].howMany));\n        setRoleStep(roleStep - 1);\n      }\n    setWhichIsClicked([]);\n  };\n\n  const numDisabledJudge = (i: number) => {\n    if (whichIsClicked.includes(i)) return false;\n    else if (roleData[roleStep].howMany === whichIsClicked.length) return true;\n    else return false;\n  };\n\n  const submitDisabledJudge = () => {\n    if (roleData[roleStep].howMany === whichIsClicked.length) return false;\n    else return true;\n  };\n\n  const displayRoleJudge = (i: number) => {\n    if (numOrder.includes(i)) {\n      let numIndex = numOrder.indexOf(i) + 1;\n      let roleDataIndex = 0;\n      while (numIndex > 0) {\n        numIndex -= roleData[roleDataIndex].howMany;\n        if (numIndex <= 0) return roleData[roleDataIndex].roleName;\n        roleDataIndex += 1;\n      }\n    } else return '';\n  };\n\n  if (roleData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>身份發放</div>\n      <div className={style.mainFrame}>\n        <div className={style.header}>{roleData[roleStep].roleName}</div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                key={v.id}\n                className={classNames(style.num, {\n                  [style.clicked]:\n                    numOrder.includes(Number(v.id)) || whichIsClicked.includes(Number(v.id)),\n                })}\n                type=\"text\"\n                onClick={onRoleClick(v.id)}\n                disabled={numDisabledJudge(Number(v.id))}\n              >\n                {v.id} {displayRoleJudge(Number(v.id))}\n                <br />\n                {v.name.slice(0, 5)}\n              </Button>\n            );\n          })}\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={submitDisabledJudge()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Role;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport _ from 'lodash';\nimport { useEffect, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { Player, Sheriff as SheriffType } from 'src/model/Record';\nimport { setSheriff } from 'src/redux/recordSlice';\nimport { dispatch, RootState } from 'src/redux/store';\nimport { getRoleData, RoleDataType } from 'src/services/RecordService';\nimport style from './Sheriff.module.scss';\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst stage = ['上警玩家', '退水玩家', '投票給', '投票給'];\n\nconst Sheriff = ({ onClick }: Props) => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [stageStep, setStageStep] = useState<number>(0);\n  const [roleData, setRoleData] = useState<RoleDataType[]>([]);\n  const [whichIsClicked, setWhichIsClicked] = useState<number[]>([]);\n  const [nullIsClicked, setNullIsClick] = useState<number[]>([]);\n  const [runForList, setRunForList] = useState<number[]>([]);\n  const [withdrawList, setWithdrawList] = useState<number[]>([]);\n  const [candidate, setCandidate] = useState<number[]>([]);\n  const [candidateStep, setCandidateStep] = useState<number>(0);\n  const [firstVoteResult, setFirstVoteResult] = useState<number[]>([\n    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  ]); // 0:X 13:run-for\n  const [firstVotes, setFirstVotes] = useState<number[]>([]);\n  const [competitor, setCompetitor] = useState<number[]>([]);\n  const [competitorStep, setCompetitorStep] = useState<number>(0);\n  const [secondVoteResult, setSecondVoteResult] = useState<number[]>([\n    -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1, -1,\n  ]); // 0:X 13:run-for\n  const [secondVotes, setSecondVotes] = useState<number[]>([]);\n\n  useEffect(() => {\n    setRoleData(getRoleData(state.record.type!));\n  }, [state]);\n\n  const onNumClick = (id: number) => () => {\n    if (!whichIsClicked.includes(id)) setWhichIsClicked(whichIsClicked.concat(id));\n  };\n\n  const onNullClick = () => {\n    setNullIsClick([0]);\n  };\n\n  const isNumDisabled = (id: number) => {\n    if (nullIsClicked === [0]) return true;\n    if (stageStep === 0) return false;\n    if (stageStep === 1)\n      if (runForList.includes(id)) return false;\n      else return true;\n    if (stageStep === 2)\n      if (runForList.includes(id)) return true;\n      else if (firstVoteResult[id - 1] === -1) return false;\n      else return true;\n\n    if (stageStep === 3)\n      if (competitor.includes(id)) return true;\n      else if (secondVoteResult[id - 1] === -1) return false;\n      else return true;\n  };\n\n  const isNullDisabled = () => {\n    if (whichIsClicked.length === 0) return false;\n    else return true;\n  };\n\n  const onReturnClick = () => {\n    setNullIsClick([]);\n    setWhichIsClicked([]);\n  };\n\n  const isSubmitDisabled = () => {\n    if (stageStep === 0)\n      if (whichIsClicked.length >= 1) return false;\n      else return true;\n    if (stageStep === 1) return false;\n    if (stageStep === 2)\n      if (candidateStep === candidate.length - 1)\n        if (\n          12 - firstVotes.reduce((a: number, b: number) => a + b, 0) - whichIsClicked.length ===\n          runForList.length\n        )\n          return false;\n        else return true;\n      else return false;\n    if (stageStep === 3)\n      if (competitorStep === competitor.length - 1)\n        if (\n          12 - secondVotes.reduce((a: number, b: number) => a + b, 0) - whichIsClicked.length ===\n          competitor.length - 1\n        )\n          return false;\n        else return true;\n      else return false;\n  };\n\n  const saveSheriff = (tmpVoteResult: any, num: number) => {\n    if (stageStep === 1) {\n      const sheriffInput: SheriffType = {\n        runFor: runForList,\n        withdraw: withdrawList,\n        firstVote: {\n          1: -1,\n          2: -1,\n          3: -1,\n          4: -1,\n          5: -1,\n          6: -1,\n          7: -1,\n          8: -1,\n          9: -1,\n          10: -1,\n          11: -1,\n          12: -1,\n        },\n        secondVote: {\n          1: -1,\n          2: -1,\n          3: -1,\n          4: -1,\n          5: -1,\n          6: -1,\n          7: -1,\n          8: -1,\n          9: -1,\n          10: -1,\n          11: -1,\n          12: -1,\n        },\n        sheriff: num,\n      };\n      dispatch(setSheriff(sheriffInput));\n    }\n    if (stageStep === 2) {\n      const sheriffInput: SheriffType = {\n        runFor: runForList,\n        withdraw: withdrawList,\n        firstVote: {\n          1: tmpVoteResult[0] === -1 ? 13 : tmpVoteResult[0],\n          2: tmpVoteResult[1] === -1 ? 13 : tmpVoteResult[1],\n          3: tmpVoteResult[2] === -1 ? 13 : tmpVoteResult[2],\n          4: tmpVoteResult[3] === -1 ? 13 : tmpVoteResult[3],\n          5: tmpVoteResult[4] === -1 ? 13 : tmpVoteResult[4],\n          6: tmpVoteResult[5] === -1 ? 13 : tmpVoteResult[5],\n          7: tmpVoteResult[6] === -1 ? 13 : tmpVoteResult[6],\n          8: tmpVoteResult[7] === -1 ? 13 : tmpVoteResult[7],\n          9: tmpVoteResult[8] === -1 ? 13 : tmpVoteResult[8],\n          10: tmpVoteResult[9] === -1 ? 13 : tmpVoteResult[9],\n          11: tmpVoteResult[10] === -1 ? 13 : tmpVoteResult[10],\n          12: tmpVoteResult[11] === -1 ? 13 : tmpVoteResult[11],\n        },\n        secondVote: {\n          1: -1,\n          2: -1,\n          3: -1,\n          4: -1,\n          5: -1,\n          6: -1,\n          7: -1,\n          8: -1,\n          9: -1,\n          10: -1,\n          11: -1,\n          12: -1,\n        },\n        sheriff: num,\n      };\n      dispatch(setSheriff(sheriffInput));\n    }\n    if (stageStep === 3) {\n      const sheriffInput: SheriffType = {\n        runFor: runForList,\n        withdraw: withdrawList,\n        firstVote: {\n          1: firstVoteResult[0] === -1 ? 13 : firstVoteResult[0],\n          2: firstVoteResult[1] === -1 ? 13 : firstVoteResult[1],\n          3: firstVoteResult[2] === -1 ? 13 : firstVoteResult[2],\n          4: firstVoteResult[3] === -1 ? 13 : firstVoteResult[3],\n          5: firstVoteResult[4] === -1 ? 13 : firstVoteResult[4],\n          6: firstVoteResult[5] === -1 ? 13 : firstVoteResult[5],\n          7: firstVoteResult[6] === -1 ? 13 : firstVoteResult[6],\n          8: firstVoteResult[7] === -1 ? 13 : firstVoteResult[7],\n          9: firstVoteResult[8] === -1 ? 13 : firstVoteResult[8],\n          10: firstVoteResult[9] === -1 ? 13 : firstVoteResult[9],\n          11: firstVoteResult[10] === -1 ? 13 : firstVoteResult[10],\n          12: firstVoteResult[11] === -1 ? 13 : firstVoteResult[11],\n        },\n        secondVote: {\n          1: tmpVoteResult[0] === -1 ? 13 : tmpVoteResult[0],\n          2: tmpVoteResult[1] === -1 ? 13 : tmpVoteResult[1],\n          3: tmpVoteResult[2] === -1 ? 13 : tmpVoteResult[2],\n          4: tmpVoteResult[3] === -1 ? 13 : tmpVoteResult[3],\n          5: tmpVoteResult[4] === -1 ? 13 : tmpVoteResult[4],\n          6: tmpVoteResult[5] === -1 ? 13 : tmpVoteResult[5],\n          7: tmpVoteResult[6] === -1 ? 13 : tmpVoteResult[6],\n          8: tmpVoteResult[7] === -1 ? 13 : tmpVoteResult[7],\n          9: tmpVoteResult[8] === -1 ? 13 : tmpVoteResult[8],\n          10: tmpVoteResult[9] === -1 ? 13 : tmpVoteResult[9],\n          11: tmpVoteResult[10] === -1 ? 13 : tmpVoteResult[10],\n          12: tmpVoteResult[11] === -1 ? 13 : tmpVoteResult[11],\n        },\n        sheriff: num,\n      };\n      dispatch(setSheriff(sheriffInput));\n    }\n  };\n\n  const onSubmitClick = () => {\n    if (stageStep === 0) {\n      setRunForList(whichIsClicked);\n      setWhichIsClicked([]);\n      setNullIsClick([]);\n      setStageStep(1);\n    }\n    if (stageStep === 1) {\n      setWithdrawList(whichIsClicked);\n      if (runForList.length - whichIsClicked.length === 0) {\n        saveSheriff(firstVoteResult, 0);\n        onClick();\n      } else if (runForList.length - whichIsClicked.length === 1) {\n        for (const element of runForList)\n          if (!whichIsClicked.includes(element)) {\n            saveSheriff(firstVoteResult, element);\n            break;\n          }\n        onClick();\n      } else {\n        let tmpCandidate: number[] = [];\n        for (const element of runForList)\n          if (!whichIsClicked.includes(element)) tmpCandidate = tmpCandidate.concat(element);\n        tmpCandidate = tmpCandidate.sort();\n        tmpCandidate = tmpCandidate.concat(0); // 投給棄票者\n        setCandidate(tmpCandidate);\n        setWhichIsClicked([]);\n        setNullIsClick([]);\n        setStageStep(2);\n      }\n    }\n    if (stageStep === 2) {\n      setFirstVotes(firstVotes.concat(whichIsClicked.length));\n      const tmpVoteResult = _.cloneDeep(firstVoteResult);\n      for (const element of whichIsClicked) tmpVoteResult[element - 1] = candidate[candidateStep];\n      setFirstVoteResult(tmpVoteResult);\n      setWhichIsClicked([]);\n      setNullIsClick([]);\n      if (candidateStep === candidate.length - 1) {\n        const maxVotes = Math.max.apply(null, firstVotes.slice(0, firstVotes.length - 1));\n        if (firstVotes.filter((x: number) => x === maxVotes).length === 1) {\n          saveSheriff(tmpVoteResult, candidate[firstVotes.indexOf(maxVotes)]);\n          onClick();\n        } else {\n          let tmpCompetitor: number[] = [];\n          for (let i = 0; i < 12; i++)\n            if (firstVotes[i] === maxVotes) tmpCompetitor = tmpCompetitor.concat(candidate[i]);\n          tmpCompetitor = tmpCompetitor.sort();\n          tmpCompetitor = tmpCompetitor.concat(0);\n          setCompetitor(tmpCompetitor);\n          alert('平票進行PK');\n          setStageStep(3);\n        }\n      } else setCandidateStep(candidateStep + 1);\n    }\n    if (stageStep === 3) {\n      setSecondVotes(secondVotes.concat(whichIsClicked.length));\n      const tmpVoteResult = _.cloneDeep(secondVoteResult);\n      for (const element of whichIsClicked) tmpVoteResult[element - 1] = competitor[competitorStep];\n      setSecondVoteResult(tmpVoteResult);\n      setWhichIsClicked([]);\n      setNullIsClick([]);\n      if (competitorStep === competitor.length - 1) {\n        const maxVotes = Math.max.apply(null, secondVotes.slice(0, secondVotes.length - 1));\n        if (secondVotes.filter((x: number) => x === maxVotes).length === 1) {\n          saveSheriff(tmpVoteResult, competitor[secondVotes.indexOf(maxVotes)]);\n          onClick();\n        } else {\n          alert('再次平票，本局遊戲無警長');\n          saveSheriff(tmpVoteResult, 0);\n          onClick();\n        }\n      } else setCompetitorStep(competitorStep + 1);\n    }\n  };\n\n  const displayheader = () => {\n    if (stageStep === 2 && candidateStep === candidate.length - 1) return '棄票者';\n    else if (stageStep === 3 && competitorStep === competitor.length - 1) return '棄票者';\n    else if (stageStep === 2)\n      return String(stage[stageStep]) + String(candidate[candidateStep]) + '號者';\n    else if (stageStep === 3)\n      return String(stage[stageStep]) + String(competitor[competitorStep]) + '號者';\n    else return String(stage[stageStep]);\n  };\n\n  if (roleData.length === 0) return <div>loading...</div>;\n\n  return (\n    <div>\n      <div className={style.title}>競選警長</div>\n      <div className={style.mainFrame}>\n        <div className={style.header}>{displayheader()}</div>\n        <div className={style.numFrame}>\n          {state.record.player?.map((v: Player) => {\n            return (\n              <Button\n                key={v.id}\n                className={classNames(style.num, {\n                  [style.clicked]: whichIsClicked.includes(Number(v.id)),\n                })}\n                type=\"text\"\n                onClick={onNumClick(Number(v.id))}\n                disabled={isNumDisabled(Number(v.id))}\n              >\n                {v.id} {roleData.find((x: RoleDataType) => x.roleCode === v.role)?.roleName}\n                <br />\n                {v.name.slice(0, 5)}\n              </Button>\n            );\n          })}\n          {stageStep !== 0 && (\n            <Button\n              className={classNames(style.null, {\n                [style.nullClick]: nullIsClicked.length > 0,\n              })}\n              type=\"text\"\n              onClick={onNullClick}\n              disabled={isNullDisabled()}\n            >\n              無\n            </Button>\n          )}\n        </div>\n      </div>\n\n      <div className={style.btnFrame}>\n        <Button type=\"text\" className={style.backbtn} onClick={onReturnClick}>\n          Back\n        </Button>\n        <Button\n          type=\"text\"\n          className={style.btn}\n          disabled={isSubmitDisabled()}\n          onClick={onSubmitClick}\n        >\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Sheriff;\n","import { Button } from 'antd';\nimport classNames from 'classnames';\nimport { useState } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { setType } from 'src/redux/recordSlice';\nimport style from './Type.module.scss';\n\nconst types = [\n  '狼王守衛',\n  '守墓人石像鬼',\n  '狼美人騎士',\n  '機械狼',\n  '狼王魔術師',\n  '預女獵白',\n  '噩夢之影',\n];\n\ntype Props = {\n  onClick: () => void;\n};\n\nconst Type = ({ onClick }: Props) => {\n  const dispatch = useDispatch();\n  const [whichIsClicked, setWhichIsClicked] = useState<number>(-1);\n\n  const onTypeClick = (i: number) => () => {\n    setWhichIsClicked(i);\n  };\n\n  const onSubmit = () => {\n    dispatch(setType(types[whichIsClicked]));\n    onClick();\n  };\n\n  return (\n    <div>\n      <div className={style.title}>選擇版型</div>\n      <div className={style.panel}>\n        {types.map((v: string, i: number) => {\n          return (\n            <div\n              key={i}\n              className={classNames(style.type, { [style.clicked]: i === whichIsClicked })}\n              role=\"button\"\n              onClick={onTypeClick(i)}\n            >\n              {v}\n            </div>\n          );\n        })}\n      </div>\n      <div>\n        <Button type=\"text\" className={style.btn} onClick={onSubmit} disabled={whichIsClicked < 0}>\n          Submit\n        </Button>\n      </div>\n    </div>\n  );\n};\n\nexport default Type;\n","import { useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { DaytimeDeath as DaytimeDeathType } from 'src/model/Record';\nimport { RootState } from 'src/redux/store';\nimport Daytime from './components/Daytime';\nimport DaytimeDeath from './components/DaytimeDeath';\nimport GiveUp from './components/GiveUp';\nimport Night from './components/Night';\nimport Player from './components/Player';\nimport Role from './components/Role';\nimport Sheriff from './components/Sheriff';\nimport Type from './components/Type';\nimport style from './NewRecord.module.scss';\n\nconst steps = [\n  'type',\n  'player',\n  'role',\n  'night',\n  'daytimeDeath',\n  'giveUp',\n  'sheriff',\n  'daytimeDetail',\n  'exile',\n  'blank',\n];\n\nconst NewRecord = () => {\n  const state = useSelector((rootState: RootState) => rootState);\n  const [step, setStep] = useState<string>(steps[0]);\n  const onSubmit = (i: number) => () => {\n    setStep(steps[i]);\n  };\n\n  const onDaytimeDeathClick = (deathstatus: string) => {\n    if (deathstatus === 'exile') setStep(steps[6]);\n    else setStep(steps[5]);\n  };\n\n  const onGiveUpClick = () => {\n    if (\n      state.record.daytimeDeath.find((x: DaytimeDeathType) => x.id === '1')?.status ===\n      'giveUpEarlier'\n    )\n      return 3;\n    // 警上自爆\n    else return 6; // 警下自爆\n  };\n\n  const onSheriffClick = () => {\n    if (\n      state.record.daytimeDeath.find((x: DaytimeDeathType) => x.id === '1')?.status ===\n      'giveUpLater'\n    )\n      return 3;\n    // 警下自爆\n    else return 7; // 放逐\n  };\n\n  return (\n    <div className={style.self}>\n      {step === steps[0] && <Type onClick={onSubmit(1)} />}\n      {step === steps[1] && <Player onClick={onSubmit(2)} />}\n      {step === steps[2] && <Role onClick={onSubmit(3)} />}\n      {step === steps[3] && <Night onClick={onSubmit(4)} />}\n      {step === steps[4] && <DaytimeDeath onClick={onDaytimeDeathClick} />}\n      {step === steps[5] && <GiveUp onClick={onSubmit(onGiveUpClick())} />}\n      {step === steps[6] && <Sheriff onClick={onSubmit(onSheriffClick())} />}\n      {step === steps[7] && <Daytime onClick={onSubmit(3)} />}\n    </div>\n  );\n};\n\nexport default NewRecord;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Daytime_title__1KPlZ\",\"mainFrame\":\"Daytime_mainFrame__ymrgk\",\"header\":\"Daytime_header__3GUxV\",\"numFrame\":\"Daytime_numFrame__2OJRa\",\"num\":\"Daytime_num__21KCs\",\"clicked\":\"Daytime_clicked__3dELE\",\"null\":\"Daytime_null__pBqYz\",\"nullClick\":\"Daytime_nullClick__26xWG\",\"btnFrame\":\"Daytime_btnFrame__2YTEX\",\"backbtn\":\"Daytime_backbtn__3m40n\",\"btn\":\"Daytime_btn__3Lut6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"DaytimeDeath_title__1Wl4p\",\"mainFrame\":\"DaytimeDeath_mainFrame__3KwgC\",\"deathBtn\":\"DaytimeDeath_deathBtn__2G87j\",\"btnFrame\":\"DaytimeDeath_btnFrame__3ueE2\",\"backbtn\":\"DaytimeDeath_backbtn__1AmDf\",\"btn\":\"DaytimeDeath_btn__1oSLF\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"GiveUp_title__3UvG1\",\"numFrame\":\"GiveUp_numFrame__1E3zB\",\"num\":\"GiveUp_num__zdCWv\",\"clicked\":\"GiveUp_clicked__3AYec\",\"btnFrame\":\"GiveUp_btnFrame__3njPv\",\"backbtn\":\"GiveUp_backbtn__1rQ3y\",\"btn\":\"GiveUp_btn__2CMT6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Night_title__2-g2s\",\"mainFrame\":\"Night_mainFrame__2Z5QO\",\"header\":\"Night_header__2Od1Y\",\"functionFrame\":\"Night_functionFrame__3W_CY\",\"function\":\"Night_function__1L-qH\",\"functionClick\":\"Night_functionClick__16OZf\",\"numFrame\":\"Night_numFrame__2bB1_\",\"num\":\"Night_num__1l0LC\",\"numClick\":\"Night_numClick__idV-o\",\"null\":\"Night_null__3yRFc\",\"nullClick\":\"Night_nullClick__1GMmw\",\"btnFrame\":\"Night_btnFrame__1qLLv\",\"backbtn\":\"Night_backbtn__RPMEt\",\"btn\":\"Night_btn__yaZ5D\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Player_title__2MdOx\",\"parent\":\"Player_parent__18SxZ\",\"child\":\"Player_child__BQHt2\",\"text\":\"Player_text__2co06\",\"btn\":\"Player_btn__22yQB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Role_title__3kq12\",\"mainFrame\":\"Role_mainFrame__1W3-5\",\"header\":\"Role_header__H7BxU\",\"numFrame\":\"Role_numFrame__2K_7Z\",\"num\":\"Role_num__3OILH\",\"clicked\":\"Role_clicked__Fk8iS\",\"btnFrame\":\"Role_btnFrame__Imd_m\",\"backbtn\":\"Role_backbtn__2qrp7\",\"btn\":\"Role_btn__2YKpm\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Sheriff_title__21OsW\",\"mainFrame\":\"Sheriff_mainFrame__2utkP\",\"header\":\"Sheriff_header__3YOaH\",\"numFrame\":\"Sheriff_numFrame__2ZKKX\",\"num\":\"Sheriff_num__3KD2D\",\"clicked\":\"Sheriff_clicked__3T6jW\",\"null\":\"Sheriff_null__1YPqk\",\"nullClick\":\"Sheriff_nullClick__1_RsM\",\"btnFrame\":\"Sheriff_btnFrame__1DDeZ\",\"backbtn\":\"Sheriff_backbtn__2S4jk\",\"btn\":\"Sheriff_btn__3n6HN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"title\":\"Type_title__2OvUO\",\"panel\":\"Type_panel__1pr1I\",\"type\":\"Type_type__M8h1W\",\"clicked\":\"Type_clicked__3QrI1\",\"btn\":\"Type_btn__I6sdH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"self\":\"NewRecord_self__3zH-8\"};"],"sourceRoot":""}